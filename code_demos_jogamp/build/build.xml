<?xml version="1.0" ?>
<project default="build jogamp">
    <property name="destination" location="E:\Jogamp_Deployment" />
    <property name="buildfiles" location="../build/" />
    <property name="libraryfiles" location="../libraries/" />
    <property name="binaryfiles" location="../binaries/" />
    <property name="shaderfiles" location="../shaders/" />
    <target name="build jogamp" description="jogamp target">
       <mkdir dir="${destination}/runtime"/>
       <javac encoding="8859_1" debug="true" debuglevel="lines,vars,source" srcdir="../" listfiles="false" destdir="${destination}"/>
       <copy overwrite="false" todir="${destination}">
            <fileset dir="${buildfiles}">
                <include name="**/*.bat"/>
            </fileset>
        </copy>
        <mkdir dir="${destination}/libraries"/>
        <copy overwrite="false" todir="${destination}/libraries">
            <fileset dir="${libraryfiles}">
                <include name="**/*.jar"/>
            </fileset>
        </copy>
        <mkdir dir="${destination}/binaries"/>
        <copy overwrite="false" todir="${destination}/binaries">
            <fileset dir="${binaryfiles}">
                <include name="**/*.*"/>
            </fileset>
        </copy>
        <mkdir dir="${destination}/shaders"/>
        <copy overwrite="false" todir="${destination}/shaders">
            <fileset dir="${shaderfiles}">
                <include name="**/*.*"/>
            </fileset>
        </copy>
        <mkdir dir="${destination}/capture"/>
        <jar destfile="${destination}/jogamp.jar"  basedir="${destination}">
            <include name="framework/**"/>
            <include name="jogamp/**"/>
            <include name="shaders/**"/>
            <manifest>
                <attribute name="Manifest-Version" value="1.0"/>
                <attribute name="Created-By" value="1.6.0_18 (Sun Microsystems Inc.)"/>
                <attribute name="Main-Class" value="framework.init.Bootstrap"/>
                <!-- <attribute name="Main-Class" value="framework.init.WindowToolkitCapabilities"/> -->
                <attribute name="Class-Path" value=". .\libraries\gluegen-rt.jar .\libraries\jogl.all.jar .\libraries\nativewindow.all.jar .\libraries\jna.jar .\libraries\newt.all.jar .\libraries\jl1.0.1.jar .\libraries\mp3spi1.9.4.jar .\libraries\tritonus_share.jar .\libraries\jogg-0.0.7.jar .\libraries\jorbis-0.0.15.jar .\libraries\vorbisspi1.0.3.jar"/>
            </manifest>
        </jar>
        <delete dir="${destination}/framework"/>
        <delete dir="${destination}/jogamp"/>
        <delete dir="${destination}/shaders"/>
    </target>
</project>